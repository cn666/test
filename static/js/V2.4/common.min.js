window.commJS={ver:"V2.3.2"};window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));void 0==window.context&&(window.context=location.origin);function getRootPath(a){var b=location.href.indexOf("/Pages/")+7,b=location.href.substring(0,b);a&&(b+=a);return b}var ajaxConfig={reqMtd:"POST"},VocDebug=!1;String.prototype.fix0=function(a){a=this.valueOf();/\.?\d+$|^\d+$/.test(a)&&(a=this.valueOf().replace(/0+?$/,"").replace(/[.]$/,""));return a};String.prototype.warp=function(a){for(var b=1,c=this.valueOf().match(/./g),d=0;d<c.length;d++)if(d>=a*b){var e=a*b;1<b&&(e=a*b+b-1);b++;c.splice(e,0,"\x3cbr\x3e")}return c.join("")};String.prototype.bool=function(){return/^true$/i.test(this)};String.prototype.trim=function(){return this.replace(/(^\s+)|(\s+$)/g,"")};String.prototype.format=function(){for(var a=this,b=0;b<arguments.length;b++)a=a.replace(new RegExp("\\{"+b+"\\}","gm"),arguments[b]);return a};Array.prototype.insert=function(a,b){this.splice(a,0,b)};Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};Array.prototype.hasOwnProperty("forEach")||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");b&&(c=b);for(d=0;d<f;){var g;d in e&&(g=e[d],a.call(c,g,d,e));d++}});Public={post:function(a,b,c){$.ajax({url:a,type:ajaxConfig.reqMtd,data:b,dataType:"json",success:function(a){c(a)},error:function(a){}})},get:function(a,b,c){$.ajax({url:a,type:"GET",data:b,dataType:"json",success:function(a){c(a)},error:function(a){}})},ajaxForm:function(a){var b={url:"",param:{},form:null,beforeSubmit:function(a,b,c){},showLoading:!0,success:function(a){},error:function(){}};$.extend(b,a);"string"==typeof b.form&&(b.form=$(b.form));var c;b.showLoading&&(c=Public.showLoading());$(b.form).submit(function(){$(this).ajaxSubmit({url:b.url,type:"post",dataType:"json",data:b.param,success:function(a){c&&c.hide();b.success(a)},error:function(a){b.error(a);c&&c.hide();Public.alert("\u64cd\u4f5c\u63d0\u793a","\u4e0a\u4f20\u5931\u8d25\uff01","info")}});return!1}).submit()},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})},showLoading:function(a){a=new ShowLoading(a);a.show();return a},alert:function(a,b,c,d){this.getTopWindow().layer.alert(b,{title:a,skin:"layer-ext-moon",btn:["\u786e\u5b9a"],end:function(a,b){layer.close(a);"function"==typeof c?c():"function"==typeof d&&d()}})},confirm:function(a,b,c,d){this.getTopWindow().layer.confirm(b,{title:a,btn:["\u786e\u5b9a","\u53d6\u6d88"]},function(a,b){layer.close(a);"function"==typeof c?c(!0):c(!1)})},prompt:function(a,b,c){this.getTopWindow().layer.prompt({title:b},function(a,b){layer.close(b);c(a)})},tips:function(a,b,c,d){this.getTopWindow().layer.msg(b,{time:1500},function(){"function"==typeof c&&c()})},getFileExt:function(a){return a.replace(/.+\./,"")},openWindow:function(a){var b=$.extend({},Public.openWindow.defaults,a);a=b.url;if(isNullOrEmpty(b.url))a=b.content,"object"==typeof a&&(a=$(a));else{a="\x3cdiv class\x3d'layui-layer-load' style\x3d'width:100%;height:100%;'\x3e\x3c/div\x3e";var c=$.extend({},Public.openWindow.methods.parseQueryString(b.url),b.param),d=b.url;-1!=d.indexOf("?")&&(d=d.substring(0,d.indexOf("?")));$.isEmptyObject(c)||(d+="?"+$.param(c));b.isFrame&&(b.showbtns=!1,a=d)}var e=new function(){this.index=-1;this.window=this.iframe=null;this.close=function(){Public.openWindow.methods.hideWindow(this.index)};this.full=function(){layer.full(this.index)};this.reload=function(){isNullOrEmpty(b.url)||(b.isFrame?this.iframe[0].contentWindow.location.reload(!0):Public.openWindow.methods.asyncRequest(this,b))}},c=1;b.isFrame&&b.url&&(c=2);b.width*=b.zoomNumber;a=layer.open({zIndex:50,resize:b.resizable,maxmin:b.maxmin,title:b.title,type:c,content:a,shade:[.3,"#000"],area:[b.width+"px",b.height+"px"],btn:b.showbtns?[b.okText,b.cancelText]:null,yes:function(a,c){setTimeout(function(){b.okCallback.call(c,e)})},btn2:function(a,b){Public.openWindow.methods.hideWindow(a)},cancel:function(a,b){Public.openWindow.methods.hideWindow(a)},end:function(){setTimeout(function(){b.onClose()})},success:function(a,c){e.window=a;e.body=e.window.find(".layui-layer-content");isNullOrEmpty(b.url)||b.isFrame?(e.body.height(b.height-$(a).find(".layui-layer-title").outerHeight()),e.iframe=$(a).find("iframe"),b.onInit.call(a,c),b.onLoad.call(a,c)):Public.openWindow.methods.asyncRequest(e,b)}});e.index=a;e.window=$("#layui-layer"+a);return e}};Public.openWindow.defaults={id:"window-cdtrkxab",method:ajaxConfig.reqMtd,param:{_:Public.guid()},zoomNumber:1,url:null,content:"\x3cdiv class\x3d'loading-box' style\x3d'width:100%;height:100%;'\x3e\x3c/div\x3e",okCallback:function(){},onClose:function(){},onInit:function(){},onLoad:function(){},isFrame:!1,width:450,height:400,title:"\u6807\u9898",resizable:!1,maxmin:!1,showHead:!0,closable:!0,showbtns:!0,cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"};Public.openWindow.methods={parseQueryString:function(a){var b=/([^&=]+)=([\w\W]*?)(&|$)/g,c=/^[^\?]+\?([\w\W]+)$/.exec(a);a={};if(c&&c[1])for(var c=c[1],d;null!=(d=b.exec(c));)a[d[1]]=d[2];return a},hideWindow:function(a){layer.close(a)},asyncRequest:function(a,b){$.ajax({type:b.method,dataType:"html",url:b.url,data:b.param,success:function(c,d,e){d=c;(c=/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(c))&&(d=c[1]);a.body.height(b.height-a.window.find(".layui-layer-title").outerHeight());$(a.body).html(d);$.parser&&$.parser.parse(a.body);b.onInit.call(a.window,null);b.onLoad.call(a.window,null)}})}};Public.getTop=function(){return this.getTopWindow().Public};Public.getTopWindow=function(){for(var a=self;a!=a.parent;)if("undefined"!=typeof a.parent.Public)a=a.parent;else break;return a};Public.openTopWindow=function(a){return this.getTop().openWindow(a)};Public.getFile=function(a,b,c,d){if("string"==typeof a){d=d||"post";a=-1==a.indexOf("?")?a+="?":a;a+="\x26random\x3d"+(new Date).getTime();var e=parent.$("form#downloadForm");0==e.length?e=parent.$('\x3cform method\x3d"'+d+'"/\x3e').attr("id","downloadForm").hide().appendTo("body"):e.empty();e.attr("action",a);for(k in b)$('\x3cinput type\x3d"hidden" /\x3e').attr({name:k,value:b[k]}).appendTo(e);c?e.attr("target","_blank"):(0==$("iframe#downloadIframe").length&&$("\x3ciframe /\x3e").attr("id","downloadIframe").hide().appendTo("body"),e.attr("target","downloadIframe"));e.trigger("submit")}};function getUrlParam(a,b){var c=new RegExp("(^|\x26)"+a+"\x3d([^\x26]*)(\x26|$)","i"),d;if(b){d=b;var e=b.indexOf("?");-1!=e&&(d=b.substring(e+1))}else d=window.location.search.substr(1);c=d.match(c);return null!=c?unescape(c[2]):null}function urlToJson(a){a||(a=window.location.href);var b=a.indexOf("?"),c={};if(-1!=b){a=a.substr(b+1);var d,b=a.split("\x26"),e;for(e in b)b.hasOwnProperty(e)&&(d=b[e].split("\x3d"),a=d[0],d=d[1],c[a]=d)}return c}function isNullOrEmpty(a){return"string"==typeof a&&""==a||"undefined"===typeof a||null==a}function stopPropagation(a){window.event?window.event.cancelBubble=!0:a.stopPropagation();window.event?window.event.returnValue=!1:a.preventDefault()}function ShowLoading(a){$.extend(this,{target:"body",cssName:"_showloading",loadingText:"\u6570\u636e\u6b63\u5728\u52a0\u8f7d,\u8bf7\u7a0d\u540e...",hideCall:null,timeout:0},a);"string"==typeof this.target&&(this.target=$(this.target));"undefined"!=typeof context&&(this.loadingImg=context+this.loadingImg)}ShowLoading.prototype.show=function(a,b){var c=this,d="BODY"==$(c.target).prop("nodeName"),e=function(){var a=d?$(window).scrollTop():$(c.target).scrollTop(),b=d?$(window).scrollLeft():$(c.target).scrollLeft(),e=d?$(window).width():$(c.target).width(),f=d?$(window).height():$(c.target).height();return{width:e,height:f,scrollTop:a,scrollLeft:b}};if(!this.$loading){this.loadingId="_load"+(new Date).valueOf();d||$(c.target).css("position","relative");this.$loading=$("\x3cdiv\x3e",{id:this.loadingId,"class":this.cssName,html:"\x3cdiv class\x3d'"+this.cssName+"-msg'\x3e"+this.loadingText+"\x3c/div\x3e"}).appendTo(this.target);var f=function(){c.$loading.css({width:e().width+"px",height:e().height+"px",top:e().scrollTop+"px",left:e().scrollLeft+"px"});var a=c.$loading.children("."+c.cssName+"-msg").width(),b=c.$loading.children("."+c.cssName+"-msg").height();c.$loading.children("."+c.cssName+"-msg").css({top:function(){return parseInt((e().height-b)/2)+"px"},left:function(){return parseInt((e().width-a)/2)+"px"}})};this.setPsIntv=setInterval(function(){f()},50)}a&&(this.loadingText=a,this.$loading.children().text(a));void 0!=b&&"function"==typeof b&&(this.hideCall=b);0<this.timeout&&setTimeout(function(){c.hide()},this.timeout);return this};ShowLoading.prototype.hide=function(){this.$loading&&(this.$loading.remove(),this.$loading=null);"function"==typeof this.hideCall&&this.hideCall();this.setPsIntv&&clearInterval(this.setPsIntv)};ShowLoading.prototype.update=function(a){this.$loading&&this.$loading.children().text(a)};function htmlEncode(a){if("string"!=typeof a)return a;if(0==a.length)return"";a=a.replace(/&/g,"\x26amp;");a=a.replace(/</g,"\x26lt;");a=a.replace(/>/g,"\x26gt;");a=a.replace(/ /g,"\x26nbsp;");a=a.replace(/\'/g,"\x26#39;");return a=a.replace(/\"/g,"\x26quot;")}function htmlDecode(a){if("string"!=typeof a)return a;if(0==a.length)return"";a=a.replace(/&amp;/g,"\x26");a=a.replace(/&lt;/g,"\x3c");a=a.replace(/&gt;/g,"\x3e");a=a.replace(/&nbsp;/g," ");a=a.replace(/&#39;/g,"'");return a=a.replace(/&quot;/g,'"')}function jQhtmlEncode(a){return $("\x3cdiv/\x3e").text(a).html()}function jQhtmlDecode(a){return $("\x3cdiv/\x3e").html(a).text()}function isArray(a){return"[object Array]"==Object.prototype.toString.call(a)}function isObject(a){return"[object Object]"==Object.prototype.toString.call(a)}function isElement(a){return"[object HTMLDivElement]"==Object.prototype.toString.call(a)}function JqAjax(a,b,c,d,e){"undefined"==typeof e&&(e="body");var f=new ShowLoading({target:e});e&&f.show();$.ajax({url:a,type:b,data:c,dataType:"json",global:!1,success:function(a){f.hide();a.result&&"failed"==a.result?"undefined"!=typeof a.targetUrl?top.location.href=a.targetUrl:$.messager.alert("\u64cd\u4f5c\u63d0\u793a","\u64cd\u4f5c\u5931\u8d25","error"):"function"==typeof d&&d.call(this,a)},error:function(a,b,c){f.hide();alert("\u5f53\u524d\u51fa\u73b0\u9519\u8bef")}})}function readOnlyForm(a){setTimeout(function(){a?($(":radio,:checkbox",a).prop("disabled",!0),$(":input:not(':button'),a.choose-btn",a).addClass("disabled").prop("readonly",!0).off("click focus"),$(".combo,.combo \x3e *",a).prop("disabled",!0).off("click focus")):($(":radio,:checkbox").prop("disabled",!0),$(":input:not(':button'),a.choose-btn").addClass("disabled").prop("readonly",!0).off("click focus"),$(".combo,.combo \x3e *").prop("disabled",!0).off("click focus"))},200)}function LodopPrint(){function a(){return context+"/static/lodop/install_lodop32.exe"}var b="";this.checkIsInstall=function(){var c=!1,d="\x3cbr\x3e\x3cfont color\x3d'#FF00FF'\x3e\u6253\u5370\u63a7\u4ef6\u672a\u5b89\u88c5!\u70b9\u51fb\u8fd9\u91cc\x3ca href\x3d'"+a(32)+"' target\x3d'_self'\x3e\u6267\u884c\u5b89\u88c5\x3c/a\x3e,\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u9875\u9762\u6216\u91cd\u65b0\u8fdb\u5165\u3002\x3c/font\x3e",e="\x3cbr\x3e\x3cfont color\x3d'#FF00FF'\x3e\u6253\u5370\u63a7\u4ef6\u9700\u8981\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc\x3ca href\x3d'"+a(32)+"' target\x3d'_self'\x3e\u6267\u884c\u5347\u7ea7\x3c/a\x3e,\u5347\u7ea7\u540e\u8bf7\u91cd\u65b0\u8fdb\u5165\u3002\x3c/font\x3e",f="\x3cbr\x3e\x3cfont color\x3d'#FF00FF'\x3e\u6253\u5370\u63a7\u4ef6\u672a\u5b89\u88c5!\u70b9\u51fb\u8fd9\u91cc\x3ca href\x3d'"+a(64)+"' target\x3d'_self'\x3e\u6267\u884c\u5b89\u88c5\x3c/a\x3e,\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u9875\u9762\u6216\u91cd\u65b0\u8fdb\u5165\u3002\x3c/font\x3e",g="\x3cbr\x3e\x3cfont color\x3d'#FF00FF'\x3e\u6253\u5370\u63a7\u4ef6\u9700\u8981\u5347\u7ea7!\u70b9\u51fb\u8fd9\u91cc\x3ca href\x3d'"+a(64)+"' target\x3d'_self'\x3e\u6267\u884c\u5347\u7ea7\x3c/a\x3e,\u5347\u7ea7\u540e\u8bf7\u91cd\u65b0\u8fdb\u5165\u3002\x3c/font\x3e",h="\x3cbr\x3e\x3cbr\x3e\x3cfont color\x3d'#FF00FF'\x3e(\u5982\u679c\u6b64\u524d\u6b63\u5e38\uff0c\u4ec5\u56e0\u6d4f\u89c8\u5668\u5347\u7ea7\u6216\u91cd\u5b89\u88c5\u800c\u51fa\u95ee\u9898\uff0c\u9700\u91cd\u70b9\u51fb\u8fd9\u91cc\x3ca href\x3d'"+a(32)+"' target\x3d'_self'\x3e\u6267\u884c\u5b89\u88c5\x3c/font\x3e";try{var l;if(l=0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")){var n;var p=navigator.userAgent.toLowerCase();n=0<=p.indexOf("win64")||0<=p.indexOf("wow64")?"x64":navigator.cpuClass;l="x64"==n}var m=this.getLodop();null!=m&&"undefined"!=typeof m.VERSION?"6.1.9.8">m.VERSION?b=l?g:e:c=!0:b=0<=navigator.userAgent.indexOf("Chrome")?h:0<=navigator.userAgent.indexOf("Firefox")?"\x3cbr\x3e\x3cbr\x3e\x3cfont color\x3d'#FF00FF'\x3e\uff08\u6ce8\u610f\uff1a\u5982\u66fe\u5b89\u88c5\u8fc7Lodop\u65e7\u7248\u9644\u4ef6npActiveXPLugin,\u8bf7\u5728\u3010\u5de5\u5177\u3011-\x3e\u3010\u9644\u52a0\u7ec4\u4ef6\u3011-\x3e\u3010\u6269\u5c55\u3011\u4e2d\u5148\u5378\u5b83\uff09\x3c/font\x3e":l?f:d}catch(q){c=!1}return c};this.getLodop=function(){if(!LodopPrint.activeReady){var b='\x3cdiv style\x3d"position:absolute;top:0px;left:-1000em;"\x3e\x3cobject id\x3d"LODOP_OB" classid\x3d"clsid:2105C259-1E0C-4534-8141-A753534CB4CA" width\x3d0 height\x3d0\x3e\r\n             \x3cembed id\x3d"LODOP_EM" type\x3d"application/x-print-lodop" width\x3d0 height\x3d0 pluginspage\x3d"'+a()+'"\x3e\x3c/embed\x3e\r\n             \x3cparam name\x3d"CompanyName" value\x3d"\u897f\u5b89\u4ea4\u5927\u957f\u5929\u8f6f\u4ef6\u80a1\u4efd\u6709\u9650\u516c\u53f8"\x3e\r\n             \x3cparam name\x3d"License" value\x3d"747606062808075747594958093190"\x3e\x3c/object\x3e\x3c/div\x3e';$("body").append(b);LodopPrint.activeReady=!0}var b=0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident"),d=document.getElementById("LODOP_OB"),e=document.getElementById("LODOP_EM");return b?d:e};this.lodopPrint=function(a){if(!this.checkIsInstall())return Public.alert("\u63d0\u793a",b),!1;a=$.extend({paperName:"A4",fontSize:null,URL:null,content:"",footer:{html:"",top:"",left:"",width:"",height:""},pagation:!1,isPreview:!1,printIndex:-1,complate:null,printCount:1,msg:"",title:"\u6253\u5370VOCs\u6392\u6c61\u8d39\u7f34\u7eb3\u51b3\u5b9a\u4e66",width:"210mm",height:"297mm",top:"30mm",left:"0mm",doublePage:0},a);var d=-1;try{var c=this.getLodop();if(c){a.fontSize&&c.SET_PRINT_STYLE("FontSize",a.fontSize);c.PRINT_INIT(a.title);1==a.doublePage?(c.SET_PRINT_MODE("PRINT_DUPLEX",2),c.SET_PRINT_MODE("PRINT_DEFAULTSOURCE",1)):2==a.doublePage&&c.SET_PRINT_MODE("DOUBLE_SIDED_PRINT",!0);if(null!=a.URL)c.ADD_PRINT_URL(a.top,a.left,a.width,a.height,a.URL);else{var f="\x3c!doctype html\x3e"+a.content;""!=a.paperName&&c.SET_PRINT_MODE("WINDOW_DEFPAGESIZE:"+a.printIndex,a.paperName);c.ADD_PRINT_HTM(a.top,a.left,a.width,a.height,f);0<a.footer.html.length&&(c.ADD_PRINT_HTM(a.footer.top,a.footer.left,a.footer.width,a.footer.height,"\x3cbody\x3e"+a.footer.html+"\x3c/body\x3e"),c.SET_PRINT_STYLEA(0,"ItemType",1));a.pagation&&(f="\u7b2c#\u9875/\u5171\x26\u9875",a.pagation.text&&(f=a.pagation.text),c.ADD_PRINT_TEXT(a.pagation.top,a.pagation.left,300,100,f),c.SET_PRINT_STYLEA(0,"ItemType",2),c.SET_PRINT_STYLEA(0,"Horient",1))}c.SET_PRINT_COPIES(a.printCount);if(a.isPreview)c.PREVIEW();else{if(0==c.GET_PRINTER_COUNT())return $.messager.alert("\u7cfb\u7edf\u63d0\u793a","\u60a8\u7684\u673a\u5668\u4e0a\u6ca1\u6709\u68c0\u6d4b\u5230\u6253\u5370\u673a\u8fde\u63a5\uff01","warning"),!1;-1<a.printIndex&&(c.SET_PRINTER_INDEXA(a.printIndex),c.SET_PRINT_MODE("WINDOW_DEFPRINTER",a.printIndex));$.messager.progress({title:"\u6253\u5370\u8fdb\u5ea6",text:""==a.msg?"\u6b63\u5728\u6253\u5370......":a.msg,interval:300});d=c.PRINT();c.SET_PRINT_STYLEA(0,"Horient",2);c.SET_PRINT_STYLEA(0,"HtmWaitMilSecs",300)}}}catch(g){$.messager.alert("\u6253\u5370\u63d0\u793a","\u8bf7\u66f4\u6362\x3cfont color\x3d'#C41A16'\x3e\x3cstrong\x3eIE\u6d4f\u89c8\u5668\x3c/strong\x3e\x3c/font\x3e\u518d\u6b21\u5c1d\u8bd5\uff0c\u5982\u679c\u8fd8\u65e0\u6cd5\u6253\u5370\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01","info")}finally{$.messager.progress("close"),void 0!=a.complate&&"function"==typeof a.complate&&a.complate.call(this,d)}return 0<d}}function vocsPrint(a){return(new LodopPrint).lodopPrint(a)}function parseParam(a,b){var c="";a instanceof String||a instanceof Number||a instanceof Boolean?c+="\x26"+b+"\x3d"+encodeURIComponent(a):$.each(a,function(d,e){if(null==e||void 0==e)return!0;c+="\x26"+parseParam(this,null==b?d:b+(a instanceof Array?"["+d+"]":"."+d))});return c.substr(1)}function parseNumber(a){a=parseFloat(a);return isNaN(a)?0:a}function number_format(a,b,c,d){a=(a+"").replace(/[^0-9+\-Ee.]/g,"");a=isFinite(+a)?+a:0;b=isFinite(+b)?Math.abs(b):0;d="undefined"===typeof d?",":d;c="undefined"===typeof c?".":c;var e="",e=function(a,b){var c=Math.pow(10,b);return""+(Math.round(a*c)/c).toFixed(b)},e=(b?e(a,b):""+Math.round(a)).split(".");3<e[0].length&&(e[0]=e[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d));(e[1]||"").length<b&&(e[1]=e[1]||"",e[1]+=Array(b-e[1].length+1).join("0"));return e.join(c)}function fmtMoney(a,b){b||(b=2);return parseFloat(number_format(a,b,".",","))}function fmtFloat(a,b){b||(b=2);return parseFloat(number_format(a,b,".",""))}function onComboboxHidePanel(){function a(){var a=b.combobox("options"),d=b.combobox("getData"),e=b.combobox("getValue");if(0<b.combobox("panel").find(".combobox-item-selected").length)a=b.combobox("getValues"),b.combobox("setValues",a);else if(a.allowInput){var f=d.length;d[f]=[];d[f][a.textField]=e;d[f][a.valueField]=e;b.combobox("loadData",d)}else b.combobox("clear")}var b=$(this);b.combobox("textbox").focus().blur(function(b){a()});a()}function gridShowTips(a,b,c,d){return a?"\x3cdiv class\x3d'remark-toolstip' style\x3d'overflow: hidden;white-space: nowrap;text-overflow: ellipsis;'\x3e"+htmlEncode(String(a))+"\x3c/div\x3e":""}$(document).ready(function(){$(document).on("mouseover mouseout",".datagrid-cell",function(a){0<$(this).find(".remark-toolstip").length&&("mouseover"==a.type?$(this).tooltip({position:"bottom",content:$(this).find(".remark-toolstip").html().replace(/\n/g,"\x3cbr /\x3e"),onShow:function(a){}}).tooltip("show"):$(".remark-toolstip").tooltip("hide"))})});function MyOffice(a){this.webOfficeId="webOffice"+Public.guid().replace(/-/g,"");this.ctrlReady="ctrlReady"+this.webOfficeId;window[this.ctrlReady]=a;this.initReady=!1;this.initOffice=function(b){try{if(!document.getElementById(this.webOfficeId)){var c="";"undefined"!=typeof a&&(c+='\x3cscr ipt language\x3d"javascr ipt" for\x3d"'+this.webOfficeId+'" event\x3d"NotifyCtrlReady"\x3e',c+=this.ctrlReady+"();",c+="\x3c/scr ipt\x3e");c+='\x3cobject id\x3d"'+this.webOfficeId+'" height\x3d"768" width\x3d"100%" height\x3d"100%" style\x3d"LEFT: 0px; TOP: 0px" classid\x3d"clsid:E77E049B-23FC-4DB8-B756-60529A35FAD5" codebase\x3d"'+MyOffice.webofficcab+'#Version\x3d6,0,5,0"\x3e';c+='    \x3cparam name\x3d"_ExtentX" value\x3d"6350"\x3e\x3cparam name\x3d"_ExtentY" value\x3d"6350"\x3e';c+="\x3c/object\x3e";c=c.replace(/scr ipt/g,"script");b?$(b).append(c):$("body").append(c)}}catch(d){alert(d.description)}};this.getOffice=function(){this.initOffice();return document.all.item(this.webOfficeId)};this.openDocument=function(a,c){try{c||(c="doc"),this.getOffice().LoadOriginalFile(a,c),this.initReady=!0}catch(d){alert(d.description)}};this.createDocument=function(a){try{var b="doc",d=["doc","xls","ppt"];d[a]&&(b=d[a]);this.openDocument("",b)}catch(e){alert(e.description)}};this.closeDocument=function(){try{this.getOffice().CloseDoc(0)}catch(b){alert(b.description)}this.initReady=!1};this.saveDocument=function(a,c){try{if(this.initReady)return this.getOffice().HttpInit(),this.getOffice().HttpAddPostString("docTitle",encodeURIComponent(a)),this.getOffice().HttpAddPostCurrFile("DocContent",""),this.getOffice().HttpPost(c)}catch(d){return alert(d.description),!1}}}MyOffice.webofficcab=context+"/static/cab/weboffice_v6.0.5.0.cab";(function(a){a.fn.getJSON=a.fn.serializeJson=function(){"FORM"!=this[0].nodeName&&alert("\u8bf7\u4f7f\u7528\x3cform\x3e\u6807\u7b7e\u4f7f\u7528\u6211");var b={},c=this.serializeArray();this.serialize();a(c).each(function(){b[this.name]?a.isArray(b[this.name])?b[this.name].push(this.value):b[this.name]=[b[this.name],this.value]:b[this.name]=this.value});return b}})(jQuery);(function(a){a.fn.mydate=a.fn.mydatePicker=function(b,c){if("string"==typeof b){var d=a.fn.mydatePicker.methods[b];return d?d(this,c):this.mydatePicker(b,c)}return this.each(function(c,d){var e=a.extend({},a.fn.mydatePicker.defaults,a.fn.mydatePicker.parseOptions(this),b);e.readonly&&(e.readOnly=!0);var f=a(d).data("fmt");f&&(e.dateFmt=f);a.data(d,"mydate",{options:e});a(d).validatebox(e);a(d).hasClass("mydate")||a(d).addClass("mydate");e.el=a(d).get(0);a(d).off("focus").on("focus",function(b){if(a(d).prop("readonly"))setTimeout(function(){a(d).trigger("mouseenter")},200);else{var c=a.data(b.target,"validatebox"),e=a(b.target);c.validating=!0;c.value=void 0;(function(){c.validating&&(c.value!=e.val()&&(c.value=e.val(),c.timer&&clearTimeout(c.timer),c.timer=setTimeout(function(){a(b.target).validatebox("validate")},c.options.delay)),setTimeout(arguments.callee,200))})()}});e.onpicked=e.oncleared=function(){a(d).validatebox("validate");e.onSelected.call(d,a(d).val())};a(d).prop("readonly",!0);a(d).unbind("click focus").bind("click focus",function(b){b.preventDefault();b.stopPropagation();b=a(this).mydatePicker("options");if(b.readonly||b.readOnly)return $dp.unbind(this),!1;WdatePicker(b)})})};a.fn.mydatePicker.defaults={minDate:"",maxDate:"",missingMessage:"\u8bf7\u9009\u62e9\u65f6\u95f4",required:!1,autoUpdateOnChanged:!0,autoPickDate:!0,isShowClear:!0,readOnly:!1,isShowOK:!0,dateFmt:"yyyy-MM-dd",ychanged:function(){},Mchanged:function(){},dchanged:function(){},Hchanged:function(){},schanged:function(){},onSelected:function(){},oncleared:function(){}};a.fn.mydatePicker.parseOptions=function(b){a(b);return a.extend({},a.fn.validatebox.parseOptions(b),a.parser.parseOptions(b,["dateFmt",{readOnly:"boolean",readonly:"boolean"}]))};a.fn.mydatePicker.methods={options:function(b){return a.data(b[0],"mydate").options},clear:function(b){return b.each(function(){a(this).val("")})},readonly:function(b,c){$dp.hide();return b.each(function(){a(this).prop("readonly",c);var b=a(this).mydatePicker("options");b.readOnly=c;(b.readonly=c)?(a(this).unbind("click focus"),$dp.unbind(this)):a(this).mydatePicker(b)})}};a(document).ready(function(){a(".mydate").mydatePicker()});a.parser.plugins.splice(0,0,"mydate")})(jQuery);(function(a){a.fn.mydoubledate=a.fn.mydoublePicker=function(b,c){function d(a){return new Date(a.replace(/-/g,"/"))}function e(b){a(document.getElementById(b.textbox)).val(b.cal.getNewDateStr())}function f(b){b.panel.find(".calendar-box iframe").height(220);b.panel.find(".calendar-box iframe").contents().find(".WdateDiv").height(190);b.panel.find(".calendar-box iframe").contents().find(".WdateDiv").each(function(){a(this).find("#dpTime").css({margin:"20px 0px 0px 0px"})})}function g(b,c){if(c)$dp.unbind(c.picker1.eCont),$dp.unbind(c.picker2.eCont),a(b).mydoublePicker("clear"),a(c.panel).find("form").form("clear");else{c=a.extend({},a.fn.mydoublePicker.defaults,a.parser.parseOptions(b,["dateFmt","width","height","panelWidth","panelHeight","panelHeight",{border:"boolean"},{min:"number"}]));var g=Public.guid().replace(/-/g,"").substr(0,6);c.dateCplId=g;a.data(b,"mydoubledate",{options:c});var l=a(b).addClass("doubledate").prop("readonly",!0).width(c.width),h=l.attr("name");h||(h="");l.removeAttr("name").attr("textboxName",h);l.after('\x3cinput type\x3d"hidden" name\x3d"'+h+'" value\x3d"" /\x3e\x3cinput type\x3d"hidden" name\x3d"'+h+'" value\x3d"" /\x3e');c.textbox=l;c.target=b;g=a.format('\x3cdiv class\x3d"doubledate-panel" style\x3d"width:390px;visibility:hidden;position: absolute;top:0px;left:2px;z-index:999999;background-color:#f0f0f0;border: 1px solid #979797;border-radius: 0 0 3px 3px;box-shadow: 0 1px 3px #00000014;"\x3e    \x3cdiv style\x3d"margin: 10px 0px 0px 0px;height: 33px;border-bottom: 1px solid #b3b3b3"\x3e          \x3cform id\x3d"form_{0}"\x3e   \x26nbsp;\u4ece\x26nbsp;\x3cinput type\x3d"text" id\x3d"text_star_{0}" name\x3d"dbdate0" class\x3d"textBox" style\x3d"width:85px;" value\x3d"" readonly\x3d"readonly"\x3e\x26nbsp;{1}\x26nbsp;                 \x3cinput type\x3d"text" id\x3d"text_end_{0}" name\x3d"dbdate1" class\x3d"textBox" style\x3d"width:85px;" value\x3d"" readonly\x3d"readonly"\x3e\u00a0\x3cspan style\x3d"width:1px;  height: 22px; margin-top: 2px; background-color: #fff; border-right: 1px solid #b3b3b3; margin-left: 2px; display: inline-block; vertical-align: top"\x3e\x3c/span\x3e                 \x3cinput type\x3d"button" value\x3d"\u786e\x26nbsp;\u5b9a" class\x3d"button-gray doubletime-ok" style\x3d"margin-left:5px\\0;margin-left:5px;width:60px;min-width:60px;padding:0px 5px;"\x3e                   \x3ca class\x3d"default doubletime-clear" style\x3d"margin-left: 10px"\x3e\u6e05\x26nbsp;\u7a7a\x3c/a\x3e          \x3c/form\x3e\x3cspan id\x3d"el0_{0}" style\x3d"display:none"\x3e\x3c/span\x3e\x3cspan id\x3d"el1_{0}" style\x3d"display:none"\x3e\x3c/span\x3e     \x3c/div\x3e    \x3cdiv class\x3d"clearfix" style\x3d"margin: 10px 0px 0px 0px;position: relative;"\x3e        \x3cdiv class\x3d"calendar-box" style\x3d"float:left;width:186px;"\x3e            \x3cdiv id\x3d"div0{0}" style\x3d"width:100%;"\x3e\x3c/div\x3e        \x3c/div\x3e        \x3cdiv class\x3d"calendar-box" style\x3d"float:right;width:186px;"\x3e            \x3cdiv id\x3d"div1{0}" style\x3d"width:100%;"\x3e\x3c/div\x3e        \x3c/div\x3e    \x3c/div\x3e\x3c/div\x3e',g,c.splitChar);c.panel=a(g).appendTo("body").data("option",c);l.click(function(){l.mydoublePicker("showPanel")});a(document).click(function(b){a(b.target).closest(".doubledate-panel,.doubledate").length||c.panel.css({visibility:"hidden"})});c.panel.find(".doubletime-clear").click(function(b){a(this).closest(".doubledate-panel").find("form").form("clear");b=a(this).closest(".doubledate-panel").data("option").target;a(b).mydoublePicker("clear")});c.panel.find(".doubletime-ok").click(function(b){var c=a(this).closest(".doubledate-panel");b=c.data("option");var c=c.find("form"),e=c.serializeJson();if(0==b.onBeforeSelect.call(this,e))return!1;var f=c.find('[name\x3d"dbdate0"]').val(),g=c.find('[name\x3d"dbdate1"]').val();if(""==f||""==g)b.panel.css("visibility","hidden");else{var h=(new Date).format("yyyy-MM-dd"),l=!0;/^(H+|m+|s+)/.test(b.dateFmt)&&d(h+" "+f)>d(h+" "+g)?l=!1:d(f)>d(g)&&(l=!1);if(!l)return layer.tips("\u7ed3\u675f\u65e5\u671f\u4e0d\u80fd\u65e9\u4e8e\u5f00\u59cb\u65e5\u671f",c.find('[name\x3d"dbdate1"]')[0],{tips:[4,"#ba3e17"]}),!1;b.panel.css("visibility","hidden");c=[e.dbdate0,e.dbdate1];a(b.target).mydoublePicker("setValue",c);b.onSelect.call(this,c)}});g={};h={};g.textbox="text_star_"+c.dateCplId;g.eCont="div0"+c.dateCplId;g.dateFmt=c.dateFmt;g.minDate=c.minDate;g.maxDate=c.maxDate;g.onpicked=e;g.ychanged=e;g.Mchanged=e;g.dchanged=e;g.Hchanged=e;g.mchanged=e;g.schanged=e;h.textbox="text_end_"+c.dateCplId;h.eCont="div1"+c.dateCplId;h.dateFmt=c.dateFmt;h.minDate=c.minDate;h.maxDate=c.maxDate;h.onpicked=e;h.ychanged=e;h.Mchanged=e;h.dchanged=e;h.Hchanged=e;h.mchanged=e;h.schanged=e;c.picker1=g;c.picker2=h}c.panel.height(c.panelHeight);g=l.val().split(",");l.mydoublePicker("setValue",g);a.extend(c.picker1,{dateFmt:c.dateFmt,minDate:c.minDate,maxDate:c.maxDate});a.extend(c.picker2,{dateFmt:c.dateFmt,minDate:c.minDate,maxDate:c.maxDate});c.full=!1;/(H+|m+|s+)/.test(c.dateFmt)&&(c.full=!0,c.panel.height(c.panelHeight+30));b.setTimePos&&clearTimeout(b.setTimePos);b.setTimePos=setInterval(function(){f(c)},200);setTimeout(function(){WdatePicker(c.picker1);WdatePicker(c.picker2)})}if("string"==typeof b){var h=a.fn.mydoublePicker.methods[b];return h?h(this,c):this.mydoublePicker(b,c)}return this.each(function(){var c=a(this).mydoublePicker("options");c?(a.extend(c,b),g(this,c)):g(this,null)})};a.fn.mydoubledate.defaults=a.fn.mydoublePicker.defaults={minDate:"",maxDate:"",dateFmt:"yyyy-MM-dd",missingMessage:"\u8bf7\u9009\u62e9\u65f6\u95f4",required:!1,splitChar:"\u81f3",editable:!1,height:32,width:200,panelWidth:390,panelHeight:250,onBeforeSelect:function(){},onSelect:function(){}};a.fn.mydoubledate.methods=a.fn.mydoublePicker.methods={options:function(b){return a.data(b[0],"mydoubledate")?a.data(b[0],"mydoubledate").options:null},setValue:function(b,c){return b.each(function(){var b=a(this).mydoublePicker("options");"string"==typeof c&&(c=c.split(","));var e=c.join(b.splitChar);a(this).val(e);2!=c.length&&(c=["",""]);b.values=c;a(this).next().val(c[0]).next().val(c[1]);b.picker1.startDate=c[0];b.picker2.startDate=c[1];b.panel.find("form").form("load",{dbdate0:c[0],dbdate1:c[1]});a(this).mydoublePicker("setDate",c)})},getDate:function(b,c){return a.data(b[0],"date")},setDate:function(b,c){return b.each(function(){a.data(this,"date",c)})},getValue:function(b){return a(b).mydoublePicker("options").values},clear:function(b){return b.each(function(){a(this).mydoublePicker("setValue",["",""]);a(this).val("");a(this).combo("panel").find(":text").val("");a(this).combo("clear");a(this).combo("hidePanel")})},readonly:function(b,c){return b.each(function(){a(this).combo("readonly",c)})},showPanel:function(b){function c(){var b=d.textbox.offset().top+d.textbox.outerHeight();b+d.panel.outerHeight()>a(window).outerHeight()+a(document).scrollTop()&&(b=d.textbox.offset().top-d.panel.outerHeight());b<a(document).scrollTop()&&(b=d.textbox.offset().top+d.textbox.outerHeight());return b}var d=a(b).mydoublePicker("options");d.closed=!1;d.panel.css({visibility:""});(function(){d.closed||(d.panel.css({left:d.textbox.offset().left,top:c()}),setTimeout(arguments.callee,200))})()},hidePanel:function(b){b=a(b).mydoublePicker("options");b.closed=!0;b.panel.css({visibility:"hidden"})}};a(document).ready(function(){a(".mydoubledate").mydoublePicker()});a.parser.plugins.splice(0,0,"mydoubledate");a.fn.form.defaults.fieldTypes.splice(0,0,"mydoubledate")})(jQuery);(function(a){a.format=function(b,c){if(1==arguments.length)return function(){var c=a.makeArray(arguments);c.unshift(b);return a.format.apply(this,c)};2<arguments.length&&c.constructor!=Array&&(c=a.makeArray(arguments).slice(1));c.constructor!=Array&&(c=[c]);a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),c)});return b}})(jQuery);(function(a){a.fn.jtabs=function(b){return this.each(function(c,d){function e(){setTimeout(function(){a(d).width(function(){return a(this).parent().width()}).height(function(){if(0<a(this).siblings().length){var b=0;a(this).siblings().each(function(){b+=a(this).height()});return"BODY"==a(this).parent().get(0).tagName?a(window).height()-b:a(this).parent().height()-b}return a(this).parent().height()}).children().height(function(b,c){if(0<b)return a(this).css({position:"relative",top:"0px","overflow-y":"auto"}),a(this).parent().height()-a(this).parent().children().first().height();a(this).css({position:"relative",top:"0px",left:"0px"});return a(this).height()}).width(function(){return a(this).parent().width()});f.onResize&&f.onResize.call(a(d),a(d).find(f.panelSelector).width(),a(d).find(f.panelSelector).height())},200)}var f=a.extend({tabSelector:"li",panelSelector:"",fit:!0,activeCls:"active",onSelect:null,onComplate:null,onResize:null},b);a(d).find(f.tabSelector).click(function(b){b.preventDefault();a(d).find(f.tabSelector).removeClass(f.activeCls).eq(a(this).index()).addClass(f.activeCls);a(d).find(f.panelSelector).hide().eq(a(this).index()).show();f.onSelect&&f.onSelect.call(this,a(this).index(),a(this).text())});e();f.onComplate&&setTimeout(function(){f.onComplate.call(a(d),null)},200);a(window).resize(function(){e()})})}})(jQuery);(function(a){a.fn.smallPagination=function(b){var c=a.extend({total:1,pageSize:10,pageNumber:1,width:200,onSelectPage:function(a,b){}},b),d=a(this);b=c.width;"number"==typeof c.width&&(b+="px");d.css("width",b);d.addClass("ui-smallPagination");var e=function(b){var c=a.format('\x3cdiv class\x3d"ui-smallPagination-btns"\x3e\x3cspan class\x3d"arrow-left ui-prev"\x3e\x3c/span\x3e\x3cspan class\x3d"text"\x3e\u7b2c{0}\u9875\x3c/span\x3e\x3cspan class\x3d"arrow-right  ui-next"\x3e\x3c/span\x3e\x3cspan class\x3d"total"\x3e\u5171{1}\u9875\x3c/span\x3e\x3c/div\x3e',b.pageNumber,b.total);d.html(c);0<b.pageNumber&&1!=b.pageNumber&&d.find(".ui-prev").off("click").click(function(){b.pageNumber--;0>=b.pageNumber&&(b.pageNumber=1);e(b);b.onSelectPage(b.pageNumber,b.pageSize)});0<b.total&&b.total!=b.pageNumber&&d.find(".ui-next").off("click").click(function(){b.pageNumber++;b.pageNumber>=b.total&&(b.pageNumber=b.total);e(b);b.onSelectPage(b.pageNumber,b.pageSize)})};e(c);return{target:d,getPage:function(){return{pageNumber:c.pageNumber,pageSize:c.pageSize}}}}})(jQuery);(function(a){a.fn.templateList=function(b,c){if("string"==typeof b){var d=a.fn.templateList.methods[b];return d?d(this,c):this.templateList(b,c)}var e=a.extend({},a.fn.templateList.defaults,b);return this.each(function(b,c){a.data(this,"options",e);var d={};d[e.pageSizeField]=e.pageSize;d[e.pageNumberField]=e.pageNumber;a(c).templateList("load",d)})};a.fn.templateList.defaults={url:null,data:null,tempId:null,param:null,pagination:!0,onSelectPage:function(a,c){},total:0,pagetarget:null,pageCls:"tcdPageCode",pageSize:10,pageNumber:1,pageSizeField:"pageSize",pageNumberField:"pageNo",loadFilter:function(a){},onBeforeLoad:function(){},onLoadSuccess:function(a){}};a.fn.templateList.defaults[a.fn.templateList.defaults.pageSizeField]=a.fn.templateList.defaults.pageSize;a.fn.templateList.defaults[a.fn.templateList.defaults.pageNumberField]=a.fn.templateList.defaults.pageNumber;a.fn.templateList.methods={load:function(b,c){var d=a(b).templateList("options");if(!d.tempId)return alert("\u6ca1\u6709\u914d\u7f6e\u6a21\u7248id"),!1;d[d.pageSizeField]=c[d.pageSizeField];d[d.pageNumberField]=c[d.pageNumberField];var e=a.extend({},d.param,c);if(d.url){if(0==d.onBeforeLoad.call(b,null))return!1;Public.post(d.url,e,function(f){var g=d.loadFilter(f),h=g?g:f;try{var l="";"null"!=h&&(l=template(d.tempId,h));a(b).empty().html(l)}catch(q){alert(q)}d.pagination&&(h=f.data.totalCount,l=null==d.pagetarget?a("\x3cdiv/\x3e").appendTo(b):a(d.pagetarget),a(l).addClass(d.pageCls).paginationM({totalData:h,pageCount:Math.ceil(h/e[d.pageSizeField]),showData:e[d.pageSizeField],current:e[d.pageNumberField],jump:!0,coping:!0,isHide:!1,keepShowPN:!0,callback:function(e){d[d.pageSizeField]=c[d.pageSizeField]=d.pageSize;d[d.pageNumberField]=c[d.pageNumberField]=e;a(b).templateList("load",c);d.onSelectPage(d[d.pageSizeField],e)}}));d.onLoadSuccess.call(b,f,g)})}if(d.data){var f=d.loadFilter(d.data),g=f?f:d.data;try{var h="";"null"!=g&&(h=template(d.tempId,g));a(b).empty().html(h)}catch(l){alert(l)}d.pagination&&(g=d.data.totalCount,h=null==d.pagetarget?a("\x3cdiv/\x3e").appendTo(b):a(d.pagetarget),a(h).addClass(d.pageCls).paginationM({totalData:g,showData:e[d.pageSizeField],current:e[d.pageNumberField],pageCount:Math.ceil(g/e[d.pageSizeField]),jump:!0,coping:!0,isHide:!1,keepShowPN:!0,callback:function(e){d[d.pageSizeField]=c[d.pageSizeField]=d.pageSize;d[d.pageNumberField]=c[d.pageNumberField]=e;a(b).templateList("load",c);d.onSelectPage(d[d.pageSizeField],e)}}));d.onLoadSuccess.call(b,d.data,f)}return b},reload:function(b,c){var d=a(b).templateList("options");a.extend(d.param,c);var e={};e[d.pageSizeField]=d.pageSize;e[d.pageNumberField]=1;return a(b).templateList("load",e)},options:function(b){return a.data(b.get(0),"options")}}})(jQuery);(function(a){a.fn.tempGrid=function(b,c){if("string"==typeof b){var d=a.fn.tempGrid.methods[b];return d?d(this,c):this.tempGrid(b,c)}b=b||{};return this.each(function(){var c=a.extend({},a.fn.tempGrid.defaults,b),d={};d[c.pageSizeField]=c.pageSize;d[c.pageNumberField]=c.pageNumber;var g=template.compile(a(c.tempId).text());a.data(this,"tempGrid",{option:c,page:d,render:g,pager:null,body:null});a(this).tempGrid("load",c.data)})};a.fn.tempGrid.defaults={method:"POST",url:null,data:null,tempId:null,queryParams:null,pagination:!0,onSelectPage:function(a,c){},total:0,pagetarget:null,pageCls:"tcdPageCode",pageSize:10,pageNumber:1,pageSizeField:"pageSize",pageNumberField:"pageNo",loadFilter:function(a){},onBeforeLoad:function(){},onLoadSuccess:function(a){}};a.fn.tempGrid.defaults[a.fn.tempGrid.defaults.pageSizeField]=a.fn.tempGrid.defaults.pageSize;a.fn.tempGrid.defaults[a.fn.tempGrid.defaults.pageNumberField]=a.fn.tempGrid.defaults.pageNumber;a.fn.tempGrid.methods={load:function(b,c){function d(c){var d=e.option.loadFilter(c),f=d?d:c,h="";try{isArray(f)&&(f={total:f.length,rows:f}),h=e.render(f),e.body||(e.body=a(b).append('\x3cdiv style\x3d"width:100%;height:100%;"\x3e\x3c/div\x3e')),e.body.empty().html(h)}catch(m){alert(m)}e.option.pagination&&(f=f.total,e.pager||(h=null==e.pagetarget?a("\x3cdiv/\x3e").insertAfter(e.body):a(e.pagetarget),e.pager=a(h).addClass(e.option.pageCls)),e.pager.paginationM({totalData:f,pageCount:Math.ceil(f/g[e.option.pageSizeField]),showData:e.page[e.option.pageSizeField],current:e.page[e.option.pageNumberField],jump:!0,coping:!0,isHide:!1,keepShowPN:!0,callback:function(c){e.page[e.option.pageSizeField]=e.option.pageSize;e.page[e.option.pageNumberField]=c;a(b).tempGrid("load",null);e.option.onSelectPage(e.page[e.option.pageSizeField],c)}}));e.option.onLoadSuccess.call(b,c,d)}var e=a(b).tempGrid("options");if("function"==!typeof e.render)return alert("\u6ca1\u6709\u914d\u7f6e\u6a21\u7248id"),!1;if(e.option.url){if(0==e.option.onBeforeLoad.call(b,null))return!1;var f="get"==e.option.method.toLocaleLowerCase()?"get":"post",g=a.extend({},e.option.queryParams,e.page);Public[f](e.option.url,g,function(a){d(a)})}else c&&d(c);return b},reload:function(b,c){var d=a(b).tempGrid("options"),e=d.page;e[d.option.pageNumberField]=1;a.extend(d.option.queryParams,c,e);return a(b).tempGrid("load",null)},options:function(b){return a.data(b[0],"tempGrid")?a.data(b[0],"tempGrid"):null}}})(jQuery);(function(a){a.fn.myseach=function(b,c){if("string"==typeof b){var d=a.fn.myseach.methods[b];return d?d(this,c):this.myseach(b,c)}b=b||{};return this.each(function(){var c=a.extend({},a.fn.myseach.defaults,a.fn.myseach.parseOptions(this),b),d=a(this).addClass("mysearchbox-text"),g=a.data(this,"myseach"),h=d.attr("style");d.removeAttr("style");g&&(h=g.style,a(this).unwrap().next().remove());var g='\n\x3cspan class\x3d"mysearchbox clearfix"\x3e       \x3cspan class\x3d"mysearchbox-addon" style\x3d"height:100%"\x3e\x3ca href\x3d"javascript:;" class\x3d"mysearchbox-button" style\x3d"line-height:'+parseInt(c.height)+'px"\x3e'+c.text+"\x3c/a\x3e\x3c/span\x3e\x3c/span\x3e\n",l=a(g).insertAfter(d).width(c.width).height(c.height).addClass(c.cls);d.insertBefore(l.children());if(h){for(var g=h.split(";"),n=0;n<g.length;n++){var p=g[n].split(":");2==p.length&&l.css(p[0],p[1])}d.removeProp("style")}a.data(d[0],"myseach",{options:a.extend(c,{style:h,contaniner:l,textbox:d})});h=l.find(".mysearchbox-button").click(function(a){c.onClick.call(d,a)});d.width(c.width-h.parent().outerWidth(!0)-10);if(c.fit){var m=l.parent().outerWidth(!0)-l.parent().width();a(d).myseach("resize",l.parent().width()-m);a(window).resize(function(){a(d).myseach("resize",l.parent().width()-m)})}})};a.fn.myseach.defaults={fit:!1,text:"\u641c\u7d22",placeholder:"",disabled:!1,cls:"",width:200,height:32,onClick:function(){}};a.fn.myseach.parseOptions=function(b){a(b);return a.extend({},a.fn.validatebox.parseOptions(b),a.parser.parseOptions(b,["text","cls","placeholder",{fit:"boolean",disabled:"boolean",width:"number"}]))};a.fn.myseach.methods={textbox:function(b){return(b=a(b).myseach("options"))?b.textbox:null},options:function(b){return a.data(b[0],"myseach")?a.data(b[0],"myseach").options:null},setValue:function(b,c){return b.each(function(){a(this).val(c)})},getValue:function(a){return a.val()},clear:function(b){return b.each(function(){a(this).val("")})},resize:function(b,c,d){if(b=a(b).myseach("options"))b.contaniner.width(c),b=b.textbox,c=c-b.next().outerWidth()-(b.innerWidth()-b.width()),b.width(c)}};a.parser.plugins.splice(0,0,"myseach")})(jQuery);